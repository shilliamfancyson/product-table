{"ast":null,"code":"import _toConsumableArray from\"/Users/michaelyoung/repos2/product-table/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/michaelyoung/repos2/product-table/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// src/ProductTable.js\nimport React,{useEffect,useState}from\"react\";import firebase from\"firebase/compat/app\";import\"firebase/compat/database\";import firebaseConfig from\"./firebaseConfig\";import\"./ProductTable.css\";// Import custom CSS for styling\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductTable=function ProductTable(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState({column:\"Price\",direction:\"asc\"}),_useState4=_slicedToArray(_useState3,2),sortOrder=_useState4[0],setSortOrder=_useState4[1];useEffect(function(){firebase.initializeApp(firebaseConfig);var productsRef=firebase.database().ref(\"products\");productsRef.on(\"value\",function(snapshot){var data=snapshot.val();if(data){var productList=Object.values(data);setProducts(productList);}});return function(){return productsRef.off(\"value\");};},[]);useEffect(function(){var sortedProducts=_toConsumableArray(products).sort(function(a,b){var column=sortOrder.column;var direction=sortOrder.direction===\"asc\"?1:-1;return a[column]<b[column]?-direction:a[column]>b[column]?direction:0;});setProducts(sortedProducts);},[products,sortOrder]);var handleSort=function handleSort(column){setSortOrder(function(prevSortOrder){return{column:column,direction:prevSortOrder.column===column&&prevSortOrder.direction===\"asc\"?\"desc\":\"asc\"};});};// Function to format the timestamp into \"last updated\" string\nvar formatTimestamp=function formatTimestamp(timestamp){var date=new Date(timestamp*1000);return\"Last Updated: \".concat(date.toLocaleString());};return/*#__PURE__*/_jsx(\"div\",{className:\"product-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"product-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return handleSort(\"Title\");},children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return handleSort(\"Price\");},children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return handleSort(\"Reviews\");},children:\"Reviews\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return handleSort(\"VideoCount\");},children:\"Video Count\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return handleSort(\"timestamp\");},children:\"Last Updated\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Link\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.Title}),/*#__PURE__*/_jsx(\"td\",{children:product.Price}),/*#__PURE__*/_jsx(\"td\",{children:product.Reviews}),/*#__PURE__*/_jsx(\"td\",{children:product.VideoCount||\"N/A\"}),/*#__PURE__*/_jsx(\"td\",{children:formatTimestamp(product.timestamp)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:product.Link,target:\"_blank\",rel:\"noopener noreferrer\",children:\"View on Amazon\"})})]},product.ASIN);})})]})});};export default ProductTable;","map":{"version":3,"names":["React","useEffect","useState","firebase","firebaseConfig","jsx","_jsx","jsxs","_jsxs","ProductTable","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","column","direction","_useState4","sortOrder","setSortOrder","initializeApp","productsRef","database","ref","on","snapshot","data","val","productList","Object","values","off","sortedProducts","_toConsumableArray","sort","a","b","handleSort","prevSortOrder","formatTimestamp","timestamp","date","Date","concat","toLocaleString","className","children","onClick","map","product","Title","Price","Reviews","VideoCount","href","Link","target","rel","ASIN"],"sources":["/Users/michaelyoung/repos2/product-table/src/ProductTable.js"],"sourcesContent":["// src/ProductTable.js\nimport React, { useEffect, useState } from \"react\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/database\";\nimport firebaseConfig from \"./firebaseConfig\";\nimport \"./ProductTable.css\"; // Import custom CSS for styling\n\nconst ProductTable = () => {\n  const [products, setProducts] = useState([]);\n  const [sortOrder, setSortOrder] = useState({\n    column: \"Price\",\n    direction: \"asc\",\n  });\n\n  useEffect(() => {\n    firebase.initializeApp(firebaseConfig);\n\n    const productsRef = firebase.database().ref(\"products\");\n\n    productsRef.on(\"value\", (snapshot) => {\n      const data = snapshot.val();\n      if (data) {\n        const productList = Object.values(data);\n        setProducts(productList);\n      }\n    });\n\n    return () => productsRef.off(\"value\");\n  }, []);\n\n  useEffect(() => {\n    const sortedProducts = [...products].sort((a, b) => {\n      const column = sortOrder.column;\n      const direction = sortOrder.direction === \"asc\" ? 1 : -1;\n      return a[column] < b[column] ? -direction : a[column] > b[column] ? direction : 0;\n    });\n\n    setProducts(sortedProducts);\n  }, [products, sortOrder]);\n\n  const handleSort = (column) => {\n    setSortOrder((prevSortOrder) => ({\n      column,\n      direction: prevSortOrder.column === column && prevSortOrder.direction === \"asc\" ? \"desc\" : \"asc\",\n    }));\n  };\n\n  // Function to format the timestamp into \"last updated\" string\n  const formatTimestamp = (timestamp) => {\n    const date = new Date(timestamp * 1000);\n    return `Last Updated: ${date.toLocaleString()}`;\n  };\n\n  return (\n    <div className=\"product-table-container\">\n      <table className=\"product-table\">\n        <thead>\n          <tr>\n            <th onClick={() => handleSort(\"Title\")}>Title</th>\n            <th onClick={() => handleSort(\"Price\")}>Price</th>\n            <th onClick={() => handleSort(\"Reviews\")}>Reviews</th>\n            <th onClick={() => handleSort(\"VideoCount\")}>Video Count</th>\n            <th onClick={() => handleSort(\"timestamp\")}>Last Updated</th>\n            <th>Link</th>\n          </tr>\n        </thead>\n        <tbody>\n          {products.map((product) => (\n            <tr key={product.ASIN}>\n              <td>{product.Title}</td>\n              <td>{product.Price}</td>\n              <td>{product.Reviews}</td>\n              <td>{product.VideoCount || \"N/A\"}</td>\n              <td>{formatTimestamp(product.timestamp)}</td>\n              <td>\n                <a href={product.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                  View on Amazon\n                </a>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default ProductTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}